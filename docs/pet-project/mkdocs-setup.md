# Создание и базовая настройка проекта

Для разработки домашнего документационного проекта мы будем использовать наиболее популярную тему генератора статических сайтов MkDocs — **Material for MkDocs**.

## Установка MkDocs и темы Material

Для установки используйте Python installs Packages (pip) — пакетный менеджер, который идёт в дистрибутиве python.

1. Установите генератор статических сайтов MkDocs. Откройте командную строку и выполните команду:

    ```
    pip install mkdocs
    ```

2. Для генератора MkDocs становите тему Material. В командной строке выполните:

    ```
    pip install mkdocs-material
    ```

## Создание проекта

1. Выберите папку на устройстве для создания локального репозитория проекта.
2. Создайте локальный репозиторий: откройте терминал в выбранной папке и выполните команду `git init`.
    
    В результате выполнения команды в папке создастся каталог `.git` — база данных локального репозитория.

3. Создайте новый проект MkDocs: выполните команду `mkdocs new .`

    В директории должны появиться базовые элементы проекта: конфиг `mkdocs.yml` и папка для исходных файлов `docs` с главной статьёй проекта `index.md`:

## Структура проекта

Стандартная структура проекта:

```
your-project
├─ .git
├─ docs
│ └─ index.md
└─ mkdocs.yml
```

### Папка docs

В папке `docs` хранятся исходные файлы статей док.портала в формате markdown.

По умолчанию в папке уже находится основная статья портала — `index.md`, которая при генерации сайта станет главной страницей сайта.

* Вы можете добавлять новые статьи в корень папки `docs` — они будут публиковаться как статьи первого уровня вложенности:

    /// html | div[class="grid" markdown]

    ```
    docs
    ├─ index.md
    ├─ page-1.md
    └─ page-2.md
    ```

    !!! quote ""
        * url-проекта/
        * url-проекта/page-1/
        * url-проекта/page-2/

    ///

* Вы можете добавлять в папку `docs` вложенные папки для создания на портале подразделов со статьями второго уровня вложенности:

    /// html | div[class="grid" markdown]

    ```
    docs
    ├─ index.md
    └─ subfolder
        ├─ page-1.md
        └─ page-2.md
    ```

    !!! quote ""
        * url-проекта/
        * url-проекта/subfolder/page-1/
        * url-проекта/subfolder/page-2/

    ///

* Вы можете добавлять в подпапки файл `index` для создания корневых (разводящих) статей подразделов:

    /// html | div[class="grid" markdown]

    ```
    docs
    ├─ index.md
    └─ subfolder
        ├─ index.md
        ├─ page-1.md
        └─ page-2.md
    ```

    !!! quote ""
        * url-проекта/
        * url-проекта/subfolder/
        * url-проекта/subfolder/page-1/
        * url-проекта/subfolder/page-2/

    ///

* Вы можете вкладывать в подпапки новые папки для создания более развёрнутой структуры документации:

    /// html | div[class="grid" markdown]

    ```
    docs
    ├─ index.md
    └─ subfolder
        ├─ index.md
        ├─ page-1.md
        └─ subsubfolder
            ├─ index.md
            └─ page-2.md
    ```

    !!! quote ""
        * url-проекта/
        * url-проекта/subfolder/
        * url-проекта/subfolder/page-1/
        * url-проекта/subfolder/subsubfolder/
        * url-проекта/subfolder/subsubfolder/page-2/

    ///

Изображения, используемые в статьях проекта, следует размещать в отдельной папке `images`, вложенной в папку `docs`:

```
docs
├─ index.md
└─ images
    └─ picture.png
```

!!! note "Примечание"
    MkDocs не регламентирует папку для хранения изображений: технически достаточно, чтобы все изображения находились внутри основной папки `docs`. Использование общей папки `images` — один из возможных вариантов удобной организации изображений в проекте.

### mkdocs.yml

Файл `mkdocs.yml` — это конфиг, определяющий основные параметры проекта.

Он создаётся в формате `yaml`, предназначенном для структурированной записи информации в виде пар `ключ: значение`

По умолчанию в конфиге прописан один параметр:

```yml
site_name: My Docs
```

Для полноценной настройки проекта добавьте в конфиг другие параметры:

1. Основные параметры сайта и темы:

    ```yaml title="mkdocs.yml начало"
    site_name: Novillero portfolio # Название сайта
    site_description: Профессиональное портфолио # Описание сайта, добавляется в meta-теги
    theme: # Тема сайта, информация о ее параметрах
      name: material # Название темы
      logo: images/logo.svg # Ссылка на логотип сайта, логотип добавляется в папку `docs/images`
      font:
        text: Roboto # Шрифт текста
        code: Roboto Mono # Шрифт для текста кода
      language: ru # Язык
      palette: # Настройки светлой и тёмной тем
        # Настройки светлой темы
        - scheme: default 
          toggle:
            icon: material/weather-sunny # Иконка для активации светлой темы
            name: Выключить солнышко # Всплывающий текст-подсказка
          primary: blue # Основной цвет
          accent: purple # Акцентный цвет
          # вы можете использовать любой цвет из списка: 
          # red; pink; purple; deep purple; indigo; blue; light blue; cyan; teal; 
          # green; light green; lime; yellow; amber; orange; deep orange; brown; 
          # grey; blue grey; black; white

        # Настройки тёмной темы
        - scheme: slate
          toggle:
            icon: material/weather-night
            name: Позвать солнышко
          primary: deep purple
          accent: blue
      features: # настройки функциональностей темы
        - navigation.sections # Добавление разделов верхнего уровня в боковом меню, отключение спойлеров в боковом меню
        - navigation.path # Хлебные крошки
        - navigation.indexes # Позволяет создавать корневые страницы разделов меню. Корневая страница должна лежать в папке раздела и называться index.md. Пример использования корневых страниц приведен ниже в настройках nav
        - navigation.tabs # Верхнее меню
        - navigation.tabs.sticky # Фиксация верхнего меню
        - navigation.expand # Разворачивает спойлеры в левом меню по умолчанию
        - toc.integrate # Фиксирует оглавление страницы в левом меню
        - navigation.instant # Функция быстрой загрузки страниц
        - navigation.top # Добавляет кнопку «к началу» для быстрой обратной прокрутки страницы
        - search.suggest # Подсказки при вводе поискового запроса
        - search.highlight # Подсветка результатов поиска в тексте страницы
        - content.code.copy # Кнопка копирования в блоке кода
    ```

2. Навигация. В этом разделе конфига настраивается структура сайта. Здесь вы должны указать все статьи, которые будут добавлены в док.портал, с учётом их вложенности:

    ```yaml title="mkdocs.yml продолжение"
    nav: # Структура сайта
    - Главная страница: index.md
    - 'Markdown: базовый синтаксис': markdown.md
    - Тех.минимум по git: git-for-tech-writer.md
    - Стайлгайд для пошаговых инструкций: styleguide.md
    - Домашний проект:
      - pet-project/index.md # корневая страница подраздела; работает при включенной функции navigation.indexes
      - Настройка MkDocs: pet-project/mkdocs-setup.md # вложенные страницы отбиваются отступами
    - Вебинары: meetings.md
    - Домашние задания:
      - Домашнее задание №0: homeworks/homework-0.md
      - Домашнее задание N1: homeworks/homework-1.md
      - Домашнее задание N2: homeworks/homework-2.md
    ```

3. Расширения markdown (в примере приведены наиболее употребляемые расширения):

    ```yaml title="mkdocs.yml продолжение"
    markdown_extensions: # Расширения markdown
      - admonition # Поддержка информационных панелей (сообщений типа «Внимание», «Совет», «Примечание», etc.)
      - footnotes # Поддержка встроенных сносок на страницах
      - attr_list # Использование html-атрибутов и CSS в элементах markdown
      - md_in_html # Поддержка markdown внутри html
      - def_list # Поддержка списков определений
      - pymdownx.tabbed: # Использование вкладок (табов)
          alternate_style: true
      - pymdownx.details # Использование спойлеров (катов)
      - pymdownx.highlight: # Подсветка синтаксиса в блоках кода
          anchor_linenums: true
      - pymdownx.superfences # Поддержка вложенных блоков кода
      - pymdownx.emoji: # Иконки и эмодзи
          emoji_index: !!python/name:material.extensions.emoji.twemoji
          emoji_generator: !!python/name:material.extensions.emoji.to_svg
    ```

4. Плагины. В разделе подключаются модульные плагины для добавления новых функциональностей:

    ```yaml title="mkdocs.yml продолжение"
    plugins:
      - search # Плагин для подключения поиска на портале
    ```

    !!! note "Примечание"
        Для работы плагина его нужно предварительно установить через Python installs Packages (pip).

## Локальная сборка проекта

Для предварительного просмотра сайта вы можете использовать так называемую локальную сборку и запустить сервер MkDocs.

В терминале выполните команду `mkdocs serve`.

Локальная версия сайта будет доступна на локальном порте `http://127.0.0.1:8000/`.

При внесении изменений в проект локальная сборка тоже будет автоматически обновляться.

## Создание удалённого репозитория проекта

После первоначальной настройки проекта создайте удалённый репозиторий в GitHub и свяжите с ним локальный репозиторий проекта.

1. Сохраните изменения в локальном репозитории (`git add .` → `git commit -m "создание проекта"`).
2. Перейдите в GitHub и создайте удалённый репозиторий: 

    1. Нажмите на иконку профиля в правом верхнем углу, выберите пункт меню «Repositories» и нажмите кнопку **New**.
    2. В поле «Repository name» введите название репозитория. Вы можете использовать латиницу, маленькие буквы, дефис, нижнее подчёркивание и цифры:

        `my-awesome-doc-project`

    3. Нажмите кнопку **Create repository**.

3. Скопируйте ссылку на репозиторий из поля «Quick setup → HTTPS».

4. Вернитесь в локальный репозиторий и проверьте его текущий статус (`git status`). В статусе ответа должно быть сообщение `On branch master
nothing to commit, working tree clean`.
5. Свяжите локальный репозиторий с созданным публичным репозиторием. Для этого выполните команду:

    ```
    git remote add origin url-репозитория
    ```

6. Опубликуйте локальную ветку `master` с помощью команды:

    ```
    git push -u origin master
    ```

7. Вернитесь в удалённый репозиторий и проверьте, что там появилась ветка `master` с вашим проектом из локального репозитория.






