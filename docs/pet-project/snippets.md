# Единый источник в MkDocs

Единый источник — это технология, позволяющая переиспользовать один и тот же контент из общего источника в разных статьях документации.

Вы можете хранить повторяющийся контент в одном ресурсном файле и подтягивать его на нужные страницы. При обновлении такого контента вам не придётся вносить изменения во все статьи, где он используется, достаточно будет актуализировать только ресурсный файл.

Для переиспользования контента в MkDocs Material используется расширение `pymdownx.snippets`.

## Работа с pymdownx.snippets

### Подключение

1. Подключите расширение в конфиге проекта:

    ```yaml title="mkdocs.yml"
    markdown_extensions: # Расширения markdown
      - pymdownx.snippets
    ```

2. Укажите папки, в которых расширение будет искать ресурсные файлы. Для удобства можно указать всю папку `docs`:

    ```yaml title="mkdocs.yml"
    markdown_extensions: # Расширения markdown
      - pymdownx.snippets:
          base_path:
            - docs
    ```

### Переиспользование файла целиком

Вы можете добавить на страницу всё содержимое другой статьи.

Для этого используйте разметку `--8<-- "путь-до-файла"`:

!!! note "Пример"
    \--8<-- "homeworks/homework-1.md"


??? quote "Как это выглядит"
    --8<-- "homeworks/homework-1.md"

### Переиспользование фрагмента файла

Вы можете добавить на страницу не весь файл, а определённый фрагмент файла.

1. Выделите фрагмент с помощью разметки:

    ```
    # --8<-- [start:название-фрагмента]

    Выделенный фрагмент 

    # --8<-- [end:название-фрагмента]
    ```

2. Добавьте на страницу фрагмент с помощью разметки:
    
    `--8<-- "путь-до-файла:название-фрагмента"`

#### Пример

!!! note "Размеченный фрагмент"
    \# --8<-- \[start:git]

    Практическая часть:

    6. Git-минимум для технического писателя от git clone до git merge. Базовые операции в GIT.
    7. Git-медиум для технического писателя: некоторые нестандартные операции в GIT (отмена изменений, работа с коммитами и ветками, решение конфликтов слияния).
    8. Домашнее задание.

    \# --8<-- \[end:git]

!!! note "Добавленный фрагмент"
    \--8<-- "meetings.md:git"

??? quote "Как это выглядит"
    --8<-- "meetings.md:git"

### Использование ресурсного файла

Вы можете создать отдельный ресурсный файл для хранения переиспользуемого контента. Как правило, в ресурсном файле хранится несколько независимых фрагментов, которые свободно добавляются на разные страницы док.портала.

1. Откройте рабочую директорию проекта.
2. В корне папки `docs` создайте файл `source` (без расширения).
3. Добавьте в файл контент, который вы хотите переиспользовать.
4. Оформите фрагменты с помощью разметки:
    
    !!! note ""
        \# --8<-- \[start:название-фрагмента]
        
        Контент для переиспользования

        \# --8<-- \[end:название-фрагмента]

Для добавления фрагмента в статью используйте разметку:

`--8<-- "source:название-фрагмента"`